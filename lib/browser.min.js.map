{"version":3,"file":"browser.min.js","sources":["index.js"],"sourcesContent":["var SINGLE_TAGS = [\n  'area',\n  'base',\n  'br',\n  'col',\n  'command',\n  'embed',\n  'hr',\n  'img',\n  'input',\n  'keygen',\n  'link',\n  'menuitem',\n  'meta',\n  'param',\n  'source',\n  'track',\n  'wbr',\n  // Custom (PostHTML)\n  'import',\n  'include',\n  'extend',\n  'component'\n]\n\n/**\n * Render PostHTML Tree to HTML\n *\n * @param  {Array|Object} tree PostHTML Tree\n * @param  {Object} options Options\n *\n * @return {String} HTML\n */\nfunction render (tree, options) {\n  /**\n   * Options\n   *\n   * @type {Object}\n   *\n   * @prop {Array<String|RegExp>} singleTags  Custom single tags (selfClosing)\n   * @prop {String} closingSingleTag Closing format for single tag\n   *\n   * Formats:\n   *\n   * ``` tag: `<br></br>` ```, slash: `<br />` ```, ```default: `<br>` ```\n   */\n  options = options || {}\n\n  var singleTags = SINGLE_TAGS.concat(options.singleTags || [])\n  var singleRegExp = singleTags.filter(function (tag) {\n    return tag instanceof RegExp ? tag : false\n  })\n\n  var closingSingleTag = options.closingSingleTag\n\n  return html(tree)\n\n  /**\n   * HTML Stringifier\n   *\n   * @param  {Array|Object} tree PostHTML Tree\n   *\n   * @return {String} result HTML\n   */\n  function html (tree) {\n    var result = ''\n\n    traverse([].concat(tree), function (node) {\n      if (!node) return\n\n      if (typeof node === 'string' || typeof node === 'number') {\n        result += node\n\n        return\n      }\n\n      if (typeof node.tag === 'boolean' && !node.tag) {\n        typeof node.content !== 'object' && (result += node.content)\n\n        return node.content\n      }\n\n      // treat as new root tree if node is an array\n      if (Array.isArray(node)) {\n        result += html(node)\n\n        return\n      }\n\n      var tag = node.tag || 'div'\n\n      if (isSingleTag(tag, singleTags, singleRegExp)) {\n        result += '<' + tag + attrs(node.attrs)\n\n        switch (closingSingleTag) {\n          case 'tag':\n            result += '></' + tag + '>'\n\n            break\n          case 'slash':\n            result += ' />'\n\n            break\n          default:\n            result += '>'\n        }\n      } else {\n        result += '<' + tag + (node.attrs ? attrs(node.attrs) : '') + '>' + (node.content ? html(node.content) : '') + '</' + tag + '>'\n      }\n    })\n\n    return result\n  }\n}\n\n/**\n * @module posthtml-render\n *\n * @version 1.0.7\n * @license MIT\n */\nmodule.exports = render\n\n/** @private */\nfunction attrs (obj) {\n  var attr = ''\n\n  for (var key in obj) {\n    if (typeof obj[key] === 'boolean' && obj[key]) {\n      attr += ' ' + key\n    } else if (\n      typeof obj[key] === 'string' ||\n      typeof obj[key] === 'number'\n    ) {\n      attr += ' ' + key + '=\"' + obj[key] + '\"'\n    }\n  }\n\n  return attr\n}\n\n/** @private */\nfunction traverse (tree, cb) {\n  if (Array.isArray(tree)) {\n    for (var i = 0, length = tree.length; i < length; i++) {\n      traverse(cb(tree[i]), cb)\n    }\n  } else if (typeof tree === 'object' && tree.hasOwnProperty('content')) {\n    traverse(tree.content, cb)\n  }\n\n  return tree\n}\n\n/** @private */\nfunction isSingleTag (tag, singleTags, singleRegExp) {\n  if (singleRegExp.length) {\n    for (var i = 0; i < singleRegExp.length; i++) {\n      return tag.match(singleRegExp[i]) ? true : false\n    }\n  }\n\n  if (singleTags.indexOf(tag) === -1) {\n    return false\n  }\n\n  return true\n}\n"],"names":["attrs","obj","attr","key","traverse","tree","cb","Array","isArray","i","length","hasOwnProperty","content","SINGLE_TAGS","options","html","result","concat","node","tag","singleTags","singleRegExp","match","indexOf","isSingleTag","closingSingleTag","filter","RegExp"],"mappings":"mCA4HA,SAASA,EAAOC,GACd,IAAIC,EAAO,GAEX,IAAK,IAAIC,KAAOF,EACU,kBAAbA,EAAIE,IAAsBF,EAAIE,GACvCD,GAAQ,IAAMC,EAEM,iBAAbF,EAAIE,IACS,iBAAbF,EAAIE,KAEXD,GAAQ,IAAMC,EAAM,KAAOF,EAAIE,GAAO,KAI1C,OAAOD,EAIT,SAASE,EAAUC,EAAMC,GACvB,GAAIC,MAAMC,QAAQH,GAChB,IAAK,IAAII,EAAI,EAAGC,EAASL,EAAKK,OAAQD,EAAIC,EAAQD,IAChDL,EAASE,EAAGD,EAAKI,IAAKH,OAEC,iBAATD,GAAqBA,EAAKM,eAAe,YACzDP,EAASC,EAAKO,QAASN,GAGzB,OAAOD,EAvJT,IAAIQ,GACF,OACA,OACA,KACA,MACA,UACA,QACA,KACA,MACA,QACA,SACA,OACA,WACA,OACA,QACA,SACA,QACA,MAEA,SACA,UACA,SACA,oBAWF,SAAiBR,EAAMS,GA+BrB,SAASC,EAAMV,GACb,IAAIW,EAAS,GA8Cb,OA5CAZ,KAAYa,OAAOZ,GAAO,SAAUa,GAClC,GAAKA,EAEL,GAAoB,iBAATA,GAAqC,iBAATA,EAAvC,CAMA,GAAwB,kBAAbA,EAAKC,MAAsBD,EAAKC,IAGzC,MAFwB,iBAAjBD,EAAKN,UAAyBI,GAAUE,EAAKN,SAE7CM,EAAKN,QAId,GAAIL,MAAMC,QAAQU,GAChBF,GAAUD,EAAKG,OADjB,CAMA,IAAIC,EAAMD,EAAKC,KAAO,MAEtB,GAgEN,SAAsBA,EAAKC,EAAYC,GACrC,GAAIA,EAAaX,OACf,IAAK,IAAID,EAAI,EAAGA,EAAIY,EAAaX,OAAQD,IACvC,QAAOU,EAAIG,MAAMD,EAAaZ,IAIlC,OAAiC,IAA7BW,EAAWG,QAAQJ,GAvEfK,CAAYL,EAAKC,EAAYC,GAG/B,OAFAL,GAAU,IAAMG,EAAMnB,EAAMkB,EAAKlB,OAEzByB,GACN,IAAK,MACHT,GAAU,MAAQG,EAAM,IAExB,MACF,IAAK,QACHH,GAAU,MAEV,MACF,QACEA,GAAU,SAGdA,GAAU,IAAMG,GAAOD,EAAKlB,MAAQA,EAAMkB,EAAKlB,OAAS,IAAM,KAAOkB,EAAKN,QAAUG,EAAKG,EAAKN,SAAW,IAAM,KAAOO,EAAM,UApC5HH,GAAUE,IAwCPF,EAjETF,EAAUA,MAEV,IAAIM,EAAaP,EAAYI,OAAOH,EAAQM,gBACxCC,EAAeD,EAAWM,OAAO,SAAUP,GAC7C,OAAOA,aAAeQ,QAASR,IAG7BM,EAAmBX,EAAQW,iBAE/B,OAAOV,EAAKV"}